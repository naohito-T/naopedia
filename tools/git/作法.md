# gitでのお作法集

## プルリクのお作法

- 十分小さくプルリクを作る
プルリクが小さいとレビューが簡単になるため

- プルリク時点でmergeがこけている場合は先にマージ先ブランチをトピックブランチにマージする
今どきの開発チームならCIが連携されていて、プルリクごとにテストが走るようになっているはず。
テストがこけている場合はマージができないことは明らかのため、プルリクを出した人が早めにコンフリクトを解消し修正をpushする


## 仕事で教えてもらったお作法

## ブランチの切り方

domainごとに切るべきだが、そのひとつのdomaniでかなりの量が見込まれる場合、例外としてさらに細かくしても良い
本来はdomainごとに切る
domainの解釈は色々あるが、クライアントが問題を解決できる単位が打倒だとおもう。
→例/user/loginuserがloginができる。これで1ブランチ

---

flowについて

[参考URL](https://kazasikipg.hatenablog.com/entry/2020/02/27/172755)

## git-flowとGitHub-flowの使い分け

1~2日以上を要するQAやリリース作業を含む開発フローを想定するならgit-flowを使う。
CIをパスさせて速やかにデプロイするフローを想定するならGitHub-flowを使う。
初期バージョンのリリース作業

## git-flow

会社はこれ
git-flowはリリースにあたって、1~2日もしくはそれ以上の作業が必要になる場合に適したフロー。
いくつかの機能をまとめてリリース作業に引き渡す時にreleaseブランチを切ってソースをfixする。

## GitHub-flow

GitHub-flowの大前提は機能ごとに開発、masterブランチにmergeして即デプロイすること。
GitHub-flowの方がgit-flowよりも簡単だが、この前提を満たせるかどうかを考える必要がある。

## コミットメッセージ

[参考URL](https://qiita.com/konatsu_p/items/dfe199ebe3a7d2010b3e)
プレフィックスにつけるとわかりやすいかも

```sh
# 新しい機能
[feat] 
# バグの修正
[fix]
# ドキュメントのみの変更
[docs]
# 空白、フォーマット、セミコロン追加など
[style]
# 仕様に影響がないコード改善（リファクター）
[refactor]
# パフォーマンス向上関連
[perf]
# テスト関連
[test]
# ビルド、補助ツール、ライブラリ関連
[chore]
```