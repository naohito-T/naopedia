# DI(Dependency Injection): 依存性の注入
[Typescript（これわかりやすい）](https://zenn.dev/chida/articles/1f7df8f2beb6b6)

DIコンテナーはアプリケーションが起動する前にすべての依存関係を解決し、必要に応じて必要なクラスのインスタンスを生成して注入する。  
このため、ランタイム時に依存関係が解決され、必要なインスタンスが自動的に生成されます。これにより、アプリケーションのモジュールを単一の場所で管理でき、より柔軟なアプリケーション構造を実現することができる。

## DIが動作する前提
[関数型プログラミングとDIコンテナーの相性が悪い理由](https://mond.how/topics/2lwly60o0vgkvvg/0eeqkccgew0dyd0)

DIコンテナー自体がそもそも**オブジェクト指向プログラミング**言語を前提としている。

## DIメリット

DIはクラス間の依存性を下げるために使用される

通常、オブジェクトを生成するクラスは、そのオブジェクトが使用する他のオブジェクトのインスタンスを生成する必要があります。  
これにより、各クラスが複雑に依存し合うことになり、**修正や変更が困難になる可能性がある。**

DIコンテナーを使用すると、各クラスが必要なオブジェクトを生成するのではなく、必要なオブジェクトをコンテナーに要求して、コンテナーからインスタンスを受け取ることができる。  
このようにすることで**各クラスが直接依存するオブジェクトを知る必要がなくなり、依存性が低下すること**になる。

たとえば、クラスAがクラスBとクラスCのインスタンスを生成して利用する場合、クラスAはクラスBとクラスCの詳細を知っている必要があります。  
しかし、DIコンテナーを使用すると、クラスAは単にクラスBとクラスCが必要であることをコンテナーに通知し、コンテナーから受け取ることができます。  
クラスAが直接クラスBとクラスCに依存しなくなるため、クラスAが変更されても、影響を受けるクラスが少なくなり、修正や変更が容易になります。
## 注入するタイミング

DIコンテナーファイルとしてクラスの対応リストを保持しておく  
事前に依存するオブジェクトを登録しておいて使う時になったらDIコンテナー経由でオブジェクトを取得する。  
※この設定はスタートアップスクリプトなどに登録しておくようにする。

## Decoratorとは
[参考URL](https://info.drobe.co.jp/blog/engineering/typescript-decorator)






