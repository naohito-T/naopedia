# DB

relation のみのDBを記載していく

## DB設計の時の考え方

どうせ最初からパーフェクトなテーブル設計はできない。
経験則がいきる。
最初は完璧になんて不可能なので、ある程度考え、実装し、間違っていればまたやり直す。を繰り返すことが一番の近道です。

あ、どうせ変化していくものなので完璧を求めすぎないこともポイントですよ。

## 触る時に考えること

・seed で一気にできないか
・自動化できないか
・本番を触る時は全てエビデンスをとれ(スクショなど)
・何をしたのかしっかりと伝えれること。そのためのエビデンス
・CRUD の内の C(create)U(update)D(delete)をする前には必ず select をしろ
・index は大体どこの SQL でも単一の値にはインデックスが貼られている。
→ しかし複数の値での検索時はインデックスが貼られていないため検索回数が多いのは検討をしインデックスを貼る。

## DBマイグレーション

データベースを削除し手から作り直すと、DBに保存されている情報が全て削除される。
こういった事態を回避する方法としてデータベースマイグレーションを行う方法がある。
マイグレーションとは、**DBに保存されているデータを保持したままテーブルの作成やカラムの変更などを行うための機能。**


