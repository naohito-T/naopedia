# コーディング(program)

- コーディング速度をあげるコツ
  コーディング速度を上げる一番の考え方は**迷いをなくすこと。**

- マジックナンバーをやめ、変数に持っておく
  別の人がコードを見たときに何の数字かわからなくなる。
  また、変数として持っておくことで変更が用意。メンテナンス性が上がる

- 正規表現でvscodeを検索する
  ゲームのランタイムで正規表現を使わないとのこと(負荷が高いパターンがあるため)

- 文字列でもマジックナンバーと同じように変数で持っておく
  値が変わったらぶっ壊れるとかは変数で管理するべき。
  またここで常に別ファイルとしてconfigとしてもたせれないかとか考える。

- DB 検索は 1 回で終わらせる。
  DB にアクセスする部分で、一度の検索で終わらせるべき。処理が重いため

- 関数を作るのも、クラスを作るのも関心の分離を考えるべき
アプリケーションを3層に分けたとき(プレゼンテーション・ビジネスロジック・データアクセス)をベースに考えるとわかりやすい
ビジネスロジックをデータアクセスと切り離すというのは保存先がファイルだろうと、RDBだろうとドキュメントDBだろうと、ビジネスロジックはそれを気にかけないようにする。

- applicationのレイヤーでパラメーターについて考えるのは良くないので、
status: TicketStatus[]
にして、
handler側でパースしてしまうのがいいかと思います！

- コードは今必要なものだけをかく
汎用性よりも単純性を考える。汎用性のもたらす再利用性や拡張性よりも**まずは使えることに価値を置く**

- 新規の関数を作成するとき、共通クラスなどがあれば共通の関数として切り出す考えを持つ

- 新規のクラスを作成するとき、共通のプロパティ・メソッドがあるのであればそれを base として切り出して抽象クラスとして作成し、違うクラスを 2 つ作る。

- 参考演算子を使用してもより単純な選択肢が存在しているかもと考える
[参考URL](https://eslint.org/docs/rules/no-unneeded-ternary)

- メモ化を考える

- コードの省略ができるか考える(ファイル量を減らす目的)
※しかし極端な省略はチームによっては受け入れられない。

* [1. alogorithm](alogorithm/README.md)
* [2. test](test/README.md)

- ペラ1でコードを記載しているのであれば、envなどに定数は分けるべき。configファイルなどに分けれるのか検討する。

- 値が返ってく前提で書いているのがいけない(常にundefained)が返ってくる or nullの可能性を示唆するべき

- 最近は文字列連結の中で変数確認する人はいなくなった(これは必要に応じてって感じ)
## 後で別ファイルに

## 抽象クラスとは

抽象クラスを継承したサブクラスは、抽象クラスにある抽象メソッドのオーバーライド必須
サブクラスでコンストラクタを記述しなければならない
直接インスタンス化できない
多重継承はできない

>象クラスを実装するメリットは、抽象クラスの特徴１に書いた、"抽象クラスを継承したサブクラスは、抽象クラスにある抽象メソッドを必ずオーバーライドしなければならない"です。
複数人で開発を行う場合に実装レベルのルールを作れる！です。

## メモ化とは

メモ化とは同じ結果を返す処理について、初回のみ処理を実行記録しておき、値が必要となった2回目以降は前回の処理結果を計算することなく呼び出し値を得られるようにすること。

## 分岐アンチパターン

[参考URL](https://qiita.com/pakkun/items/9bef9132f168ba0befd7)

大事なこと
- 否定の否定は回避する(変数名の代入先と代入部分に着目しろ)
- 基本的に変数名は肯定で記述しよう


```php
// アンチパターン
$delete_off = false;
// 両方、否定の否定になっている

// 対策
$delete_on = true

```


## コーディング規約

コーディング規約は多数のプログラマが参加するプロジェクトにおいて、プログラミング品質を均等にするために定める文書

メンバーのスキルが高い場合は、コーディング規約はできるだけ薄い方が良い。高スキル者に色々規約を守らせようとすると生産性が大幅に落ちてしまい高スキル者を集めた意味がない。

## 再生 vs 再認

認知心理学では、2つの記憶のモード、再生と再認を考える。

- 再生
再生は過去の記憶を何もインプットがなくても思い出せる状態。
- 再認
これは体験したことがありますか？と問われてたらああ、これは体験したことがあると思い出せる状態。

## 再生するには？

再生をするには完全に完全に記憶しきっている状態にならないとダメ。
慣れている人は、数多くのパターンを記憶しておりそれを再生することでコードが書ける。他の人のコードを見たときにも過去のパターンと照らし合わせてよりよいコードパターンを思いついたりする。

**再認の方が難易度は低い。**ドキュメント、サンプルコード、ネットで調べた情報などを辿りながら、それを組み合わせて実装します。時間もかかりますし、**検索で出てこないパターンだとパフォーマンスが落ちる。**
ですが、なんどもなんどもコードを見て繰り返し再認していくと、再生でコードが書けるようになります。このドキュメントは再認の効率アップがゴールです。

とはいえ、必ずしも全員が再生レベルになる必要はありません。たとえGoに慣れていても、普段使わないパッケージ（cryptoパッケージの暗号化とか）を使う場合は再認で（サンプルのコピペで）コードを書くことになるでしょう。上級者でも、自分用のスニペット集を作ることで、記憶の能力の節約しつつパフォーマンスは落とさないということをしますね。


## コーディングを書き始める前に念頭においておくもの

1. 仕様は確認したか？ビジネス要件 & サイトの機能、役割がわかっていないと全体像を見通せない。
そのため全体像を把握していることを考える。
2. コードを書き始める前にコメントでその処理をやることを考える。


## Railsの哲学から汎用性のあるものを抽出


同じことを繰り返すな（Don't Repeat Yourself: DRY）: DRYはソフトウェア開発上の原則であり、「システムを構成する知識のあらゆる部品は、常に単一であり、明確であり、信頼できる形で表現されていなければならない」というものです。同じコードを繰り返し書くことを徹底的に避けることで、コードが保守しやすくなり、容易に拡張できるようになり、そして何よりバグを減らすことができます。

設定より規約が優先（Convention Over Configuration）: Railsでは、Webアプリケーションで行われるさまざまなことを実現するための最善の方法を明確に思い描いており、Webアプリケーションの各種設定についても従来の経験や慣習を元に、それらのデフォルト値を定めています。このようにある種独断でデフォルト値が決まっているおかげで、開発者の意見をすべて取り入れようとした自由過ぎるWebアプリケーションのように、開発者が延々と設定ファイルを設定して回らずに済みます。

## 論理演算を考えろ(ドモルガンの法則)

```js
!(P || Q) == !P && !Q
!(P && Q) == !P || !Q

const hasUserLicense = !(isSubscriptionFailed.value || isWaitingKonbiniCharge.value);
```
[ドミルガンの法則](https://ja.wikipedia.org/wiki/%E3%83%89%E3%83%BB%E3%83%A2%E3%83%AB%E3%82%AC%E3%83%B3%E3%81%AE%E6%B3%95%E5%89%87)