# OS

## OSとは

コンピューターシステムにおいてハードウェアとアプリケーションの橋渡しを行う。
より学問的に言うと
- ハードウェアを抽象化してアプリケーションのインターフェースを提供する

>たとえば、外部記憶装置にファイルを書き込む場合、その外部記憶装置はSATA接続のハードディスクかもしれませんし、NVMe接続のSSDかもしれませんし、はたまたUSBメモリかもしれません。しかも、各ディスクのファイルシステムは全部違うかもしれません。そんな状況でもアプリケーションは書き込み先のファイルをfopenしてwriteするだけで、書き込み先のデバイスが一体何なのかを気にせず書き込むことができます。これが「ハードウエアを抽象化して、アプリケーションにインターフェイスを提供する」ということなのです

- 計算資源を複数のアプリケーションに分配する
>また、CPUは一般的に1コアで1つのアプリケーションしか動作させることができません。それでも、私たちはCPUのコア数より多くのアプリケーションを起動し、まるで同時に動いているかのように感じることができます。これは、OSがCPUの時間を細かい単位に分割し、各アプリケーションを切り替えつつ実行するよう調整しているからなのです。これが「計算資源を複数のアプリケーションに分配する」という機能の例です。

## OSの基本構造

- コマンドやライブラリ
- カーネル

カーネルはコンピューターの基本的な操作を行う機能を格納したライブラリ群のようなもので、**コマンドやライブラリはこのカーネルの中にあるライブラリ(システムコール)を呼び出す。**
例としてlsコマンドはC言語で書かれているが、その中でgetdentsというシステムコールを呼びファイルのリストを取得している。
つまりプロセスはOS内のコマンドやライブラリを呼び出し、そのコマンドやライブラリはカーネル内のシステムコールを呼び出している。
