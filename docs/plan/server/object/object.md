# Object指向

オブジェクト指向とは簡単に言うとクラス内に処理なども追加している
**厳密にはJavaで言うDTOなどはオブジェクト指向とは言わない**

[人類がオブジェクト指向を手に入れるまでの軌跡](https://qiita.com/hirokidaichi/items/591ad96ab12938878fe1)


## DI/DIコンテナー

- DI(Dependency Injection)とは  訳：依存性の注入

[参考URL](https://qiita.com/hinom77/items/1d7a30ba5444454a21a8)

Dependency（依存性と訳していた）部分は英語ではオブジェクトのこと。
>つまりDIとは、依存性の注入ではなく、オプジェクトの注入。
>オブジェクトの生成時に他のオブジェクトを注入している形式であることから、Dependency Injection(オブジェクトの注入)と言われる

**もうひとつわかりやすい**
クラス同士を疎結合にして、実データは外部へ出す
→一体何のために？
**クラスの単体テストをしやすくするため**

DI：パターンのひとつ

DIコンテナー：DI実現をお手伝いするためのフレームワーク

## DI 本当の使い所

[参考URL](https://www.ulsystems.co.jp/topics/025)

- DIアンチバターン
サービスロケーターパターンはDIの実装としてはやるべきではないとされている。

- DIコンテナーのメリット
あるオブジェクトのインスタンスを生成する際に、そのオブジェクトが必要とする他のオブジェクトのインスタンスを生成する手間がなくなる

- 自分の中での使用方法

オブジェクト指向の時に必要となるのか？？

**DI With Test**

下の図のようにクラスAの中でクラスBを呼び出しているとき、クラスAがクラスBに依存しているという
この場合、クラスAができ上がって単体テストをしたくてもクラスBができていないとそれができない
![](images/class.png)

DIを使った場合
インターフェイスがモックの代わりになり、実データ（=リテラル）をクラスBに外出ししている。
![](images/di.png)

昔は実データをXMLファイルに描いていたが、脱XMLのトレンドからすれば今はインターフェイスに任せるのがスマートなやり方。

このDI機能はJUnitでも使えるためテスト駆動開発の場合でも導入ができる。


