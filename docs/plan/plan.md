# plan

webやアプリケーションなどの設計をまとめるpage

[MVC, 3層アーキテクチャから設計を学び始めるための基礎知識](https://qiita.com/os1ma/items/7a229585ebdd8b7d86c2)

[設計理論がすごい](https://qiita.com/os1ma)


アプリケーション・アーキテクチャとして、以下のような選択があることが分かります。
レイヤー構成 ... 3 層、ヘキサゴナル、クリーンなどから選ぶ
プレゼンテーション層 ... MVC、MVP、MVVM などから選ぶ
ビジネスロジック層 ... トランザクションスクリプト、ドメインモデルから選ぶ

ので、「3 層 + MVC + トランザクションスクリプト」といった構成や、「クリーンアーキテクチャ + MVVM + ドメインモデル」といった構成になるわけです。

どの組み合わせを採用すべきかは、開発規模や扱えるフレームワークとの相性などにより異なります。

## ビジネスロジックとは

[ビジネスロジックとは](https://qiita.com/os1ma/items/25725edfe3c2af93d735)

端的に理解するとなると
アプリケーションをプレゼンテーション・ビジネスロジック・データアクセスの3つに分けたときプレゼンテーションでもデータアクセスでもない部分がビジネスロジック


## ソフトウェア開発における4つのプロジェクト管理手法

ウォーターフォールモデル
アジャイル
スパイラルモデル
プロトタイプ開発

## SPA + REST API構成のサービス開発リファレンス

[](https://fintan.jp/?p=5952)

## REST API

APIはシンプルな機能ごとに作られてこそ威力を発揮する。
そしてAPIは機能ごとに分けるのが定石
機能の単位とは？？
「リソース（何を）」と「メソッド（どうする）」で表現できる単位。
→Web API では、URL 部分を「リソース」と見なし、HTTP メソッドと URL の組み合わせ

**設計順序**

[参考URL(これが全体的にわかりやすい)](https://www.hypertextcandy.com/web-api-url-design-primer)

UI(画面)がある程度固まって、データベース定義の初期段階。ER図ができたあたりからAPI設計をし始めるのをお勧めする。


## 言語選定

[参考URL](https://teratail.com/questions/92276)


## Webサイト設計順序

1. こんなサイトを作りたいと想像する
2. 要件定義
3. UI設計に入る
4. DB設計
5. この段階である程度欲しい機能がわかる
6. API設計

以上


## project start手順


**技術選定**

いまいちフロントエンドを理解する上司がいない場合もある
技術選定は最終的なgoalが必要で、そのGOALがどんなサイトかで選定は決まると思われる。
どんなサイトにしたいのかをまずは上席、またはビジネス側に伺う。

jQueryは重い。パフォーマンスは下がる

## 今までのレンダリング

[参考URL(これを時間あるときまとめる)](https://www.publickey1.jp/blog/17/server_side_renderingserver_side_rendering_ng-japan_2017.html)



最近はブラウザの中にも、これまでサーバ側で動いていたHTMLを構築するための仕組みが入ってきた。


## なぜServer Side Rendiringが必要なのか

まずSEOが最初にあがる。

## スケジュール

スケジュールの引き方は相手がたの依頼が間に合わないと遅くなると言う前提で作ると楽

## 実際にある業務をシステムに落とし込むとき

通常はある業務をシステムに落とし込むとき

1. 現在の業務を適切に抽象化した分析モデルの作成、
2. 分析モデルを基にした設計
という2回の射影が行う必要がある。
具体的には、前者はユーザヒアリングによる要件抽出、後者は要件を基にした仕様書作成/実装となる。

スケジュールの引き方は相手の依頼が間に合わないと遅くなると言う前提で作ると楽

## 要件定義からサービス作成まで(小さいパターンの場合)


1. 簡単なサービス設計書を作成

2. サービス設計書のレビューがくるまで作成する

3. レビューがくる。ここで再度要件をつめる。

そのほうが早いでしょってこと

## サービス設計書

サービス設計は要件定義と同一。
そのため他部署との折衝となるため、**これができます。これはできませんという場となる。**

>これはサービス設計なので、仕組みではなく、どうするかを書いてください。
>ex. 自動削除はしない。リクエスト毎の対応、または、要望があれば、別途打ち合わせの上、削除の自動化を行う。


## 仕事の進め方

大きく分けて以下のフェーズがある

1. サービス設計
2. 基本設計
3. 詳細設計
4. テスト
5. 運用


## サービス設計

完結に言うと、事業部側との約束事をまとめたもの(相手側にシステムなどを伝えても意味がない)

ここで大事な考え方として

1. 
**セーフティネットの考え方はある。**
万が一何か起こっても大丈夫ですよの考え方を常に持っていい。
100%起こらないエラーはないと考え方を持つ。万が一起こっても大丈夫なコードとサービス定義に盛り込む。

2. わからないことや疑問点が出たら
SmartNewsで思い出して欲しい。1分に1回取りに行くとか、疑問点が生まれたらどんどん聞きにいくべき(事業部側に)


スケジュール
費用
上記はビジネス

=========================以下から下は自分達で役に立てばいいやという感覚(その感覚は自社サービスのメリット)。受託だとまたより詳細に書く必要があるし、官公庁相手だともっと詳細に書く必要がある。====

===基本設計===

技術部向けに書いていく。詳細。

なんのシステムで構成図を書くとか
バックアップとか
アクセス情報とか
そういった情報。
なんでJSなのか？
なんでJSなのか + Lambda


===詳細設計===



===テスト===

テスト

===単体試験====
正常系と異常系で書くべき。今回は正常系しか書いていない。
単体テストはmethod単体で書く(コード化できるでしょう?)
リグレッションテストは
単体試験で準備が必要であれば、それは別ファイルに記載するべき(関心の分離みたいな)

単体試験はコード化されるべきで全てを動かしたときにconsole.logなどで出力さえるべき

- リリースについて

リリース後はエンドユーザよりのテストを書く。


===運用===


今回みたいにペラ1でコードを記載しているのであれば、envなどに定数は分けるべき。configファイルなど。

値が返ってく前提で書いているのがいけない(常にundefained)が返ってくる可能性を示唆する。

最近は文字列連結の中で変数確認する人はいなくなった。

===時間がないとき======
時間がない時にコード修正するよりはテストをもう一回やった方がまし。