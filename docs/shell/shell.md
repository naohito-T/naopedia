# shell Page

shellについてのpage

一般的には**シェルスクリプトは環境依存が激しいと言われている。**
一方で移植性を高くするためのPOSIXという標準規格があるためそれに準拠してシェルスクリプトを書けば問題ないはずと考える人もいるが、問題がある。

## shell 歴史

>Unix は 1969 年 AT&Tの ベル研究所で誕生しました。継続していく開発の中で BSD 系 と呼ばれる分岐が生まれました。本流は最終的に System V 系と呼ばれるようになりました。その Unix の開発の過程で多数のコマンドが生まれ Unix はより便利になっていきました。しかし互換性をそれほど重視していなかったためかコマンドを含む Unix は移植性が低下していきました。そこで生まれたのが POSIX です。1988 年にシステムインターフェースが、1992 年にシェルとコマンドが標準化されました。

## ログインシェルとインタラクティブシェルの違い

[参考URL](http://tooljp.com/windows/chigai/html/Linux/loginShell-interactiveShell-chigai.html)

これらの言葉は曖昧に使用されている面もあると思います。あくまでも参考程度。
bash ではシェルを何個も起動することが可能です。その中でユーザがログインした後に最初に起動されるシェルが"ログインシェル"、ログインシェルから起動されるシェルでユーザと対話が可能なシェルを"インタラクティブシェル"と呼びます。ただしbash のオプションにより2個目以後のログインシェルを起動させることが可能です。これらは環境変数や呼ばれる初期化シェルが大きく違うため、違いを把握しておくことは重要です。
interactiveとは "相互作用、対話的"という意味です。

bashだと

- ログインシェルで起動されるファイル
/etc/profile
~/.bash_profile
~/.bash_login
~/.profile
(多くのディストリビューションでは ~/.bash_profile から ~/.bashrcを呼び出す)

- インタラクティブシェル
~/.bashrc

(多くのディストリビューションでは ~/.bashrc からbashrcが呼び出される。)


## tips

`$ mkdir udemy_demoapp_v1 && cd $_`
$_ ... 直前のコマンド引数を取得します。

`$ mkdir {api,front}`
{} ... 波カッコで囲むと一度に複数のディレクトリやファイルが作成できます。

注意する点は、カンマの後にスペースを入れるとエラーになります。

スペース無しで実行しましょう。


## シェルスクリプトを書く時

[シェルスクリプトを書く時の注意](https://qiita.com/youcune/items/fcfb4ad3d7c1edf9dc96)

```sh
#!/bin/bash -eu
とするか
set -eu
を書いておく
```

-e : エラーがあったらシェルスクリプトをそこで打ち止めにする。exit 0 以外が返るものがあったら止まるようになる。

-u : 未定義の変数を使おうとした時に打ち止めにしてくれる。

